#IML Cut Layout

Моделирование раскладки контуров высечки для In-mould-этикеток.

##Цель

* Упростить процесс создания раскладки контуров. Пользователю не нужно разбираться в инструментарии `Adobe Illustrator`, чтобы сверстать необходимый файл для предварительного просчета стоимости заказа и заказа высекательного штампа.

##Задача

* Необходимо разработать программу моделирования оптимальной раскладки контуров высечек на вал (боковую поверхность цилиндра).

##Требования

* Форма высекательного штампа

	* В первом случае, форма штампа представляет правильный прямоугольник (Artboard в Adobe Illustrator), где ширина - это ширина пореза материала, а длина (высота) - длина окружности конкретного вала. В этом случае, нет необходимости специально рисовать прямоугольник, так как сам Artboard является им.

	* Во втором случае, форма штампа будет не прямоугольной, а фигурой сложной формы. Боковые грани формы штампа остаются прямыми вертикальными линиями, а верхняя и нижняя грани могут выходить за пределы Artboard и входить в его рабочую область. Главное, чтобы при сворачивании такой формы в цилиндр, верхняя и нижняя части полностью стыковались друг с другом. В этом случае, необходимо нарисовать этот контур и каким-нибудь образом выделить его, например цветом, и/или разместить его на отдельном слое. Кроме того, он должен быть замкнутым многоугольником.

* Нерабочая область штампа

	* Нужно учитывать, что на сборке помимо разложенных этикеток еще должны обязятельно присутствовать такие элементы как рельсы, метка автоприводки и шкалки. Метка размером 8х5 мм располагается в левой части сбокри, далее с отступом 1,5 мм (в обе стороны) проходит вертикальная рельса, шириной 2 мм. Такая же рельса располагается в правой части сборки. Шкалки располагаюся либо справа от правой рельсы, либо в любом месте облоя.

* Форма единичного контура высечки

* В качестве контуров могут выступать как стандартные геометрические фигуры (прямоугольник, квадрат, круг, овал, n-угольник, звезда и т.д.), так и пользовательские фигуры сложной формы (колье, "банан", "сабля", крест, капля и т.п). В общем случае, контуры представляют собой замкнутые направленные многоугольники (выпуклые и невыпуклые), описанные либо векторами, либо сплайнами Безье. Частный случай: контур состоит из набора несвязаных векторов, которые предварительно необходимо собрать в направленный замкнутый многоугольник.

* На одном высекательном штампе может размещаться `n` контуров одной геометрической формы.

* Способов раскладки тоже может быть несколько:
	* регулярная раскладка на основе прямоугольной или треугольной сетки для контуров небольшого размера
	* нерегулярная раскладка (со смещением и/или поворотом элементов) для контуров большого размера, не умещающихся по габаритам в прямоугольную область раскладки.

* Необходимо учитывать следующие технологические требования:
	* отступ на вылет этикетки составляет 1,5÷3 мм.
	* необходимо избегать появления горизонтальных порезов длиннее xxx мм.
	* контуры (с учетом отступа) не должны пересекаться друг с другом
	* предпочтительна регулярная раскладка с явным количеством ручьев (полос)

* Также необходимо предусмотреть сохранение различных вариантов раскладки для последующего сравнения и выбора оптимального варианта.

* Время работы алгоритма моделирования не должно первышать xxx секунд.

* Кроме непосредственной раскладки контуров, программа должна формировать и выводить отчет по расходу материала для каждого варианта раскладки. Отчет может включать следующие данные:
	* количество необходимого материала (в метрах), исходя из тиражности заказа (кол-во этикеток)
	* количество облоя материала (в процентах и/или метрах).

* В качестве входных данных могут выступать следующие параметры:
	* тираж (шт.)
	* тип/наименование материала
	* ширина пореза материала (мм)
	* диаметр/длина вала (мм)
	* тип лакирования

* Необходимо разработать понятный и удобный интерфейс для решения основных задач пользователя:
	* предварительная раскладка контуров для просчета стоимости заказа (под разные порезы/валы)
	* окончательная раскладка (под конкретный порез/вал) для заказа высекательного штампа

##Реализация

* Программа `IML Cut Layout` может быть реализована как расширение (extension) для `Adobe Illustrator CC 2015`.
